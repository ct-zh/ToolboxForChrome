<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>模拟请求</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
    }
    .main-container {
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    .request-panel {
      padding: 15px;
      border-bottom: 1px solid #ccc;
    }
    .url-bar {
      display: flex;
      margin-bottom: 10px;
    }
    .url-bar select {
      padding: 8px;
      border: 1px solid #ccc;
      border-right: none;
      border-radius: 4px 0 0 4px;
    }
    .url-bar input {
      flex-grow: 1;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 0;
    }
    .url-bar button {
      padding: 8px 15px;
      border: 1px solid #007bff;
      background-color: #007bff;
      color: white;
      cursor: pointer;
      border-radius: 0 4px 4px 0;
      margin-right: 5px;
    }
    .url-bar button:last-child {
      margin-right: 0;
      border-radius: 4px;
    }
    .url-bar button:disabled {
      background-color: #6c757d;
      border-color: #6c757d;
      cursor: not-allowed;
    }
    .url-bar button#generateCode {
      background-color: #28a745;
      border-color: #28a745;
    }
    .url-bar button#generateCode:hover {
      background-color: #218838;
      border-color: #1e7e34;
    }
    .tabs {
      display: flex;
      border-bottom: 1px solid #ccc;
    }
    .tab-button {
      padding: 10px 15px;
      cursor: pointer;
      border: none;
      background-color: transparent;
      border-bottom: 2px solid transparent;
    }
    .tab-button.active {
      border-bottom: 2px solid #007bff;
    }
    .tab-content {
      padding: 10px;
      flex-grow: 1;
      overflow-y: auto;
    }
    .key-value-editor, .body-editor {
        display: block;
    }
    .response-panel {
      flex-grow: 1;
      padding: 15px;
      overflow-y: auto;
      border-top: 1px solid #ccc;
    }
    textarea {
        width: 95%;
        height: 150px;
        resize: vertical;
    }
    .key-value-row {
        display: flex;
        margin-bottom: 5px;
    }
    .key-value-row input {
        flex: 1;
        margin-right: 5px;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
    .key-value-row button {
        padding: 8px 12px;
        border: 1px solid #dc3545;
        background-color: #dc3545;
        color: white;
        cursor: pointer;
        border-radius: 4px;
    }
    .add-btn {
        margin-top: 10px;
        padding: 8px 15px;
        border: 1px solid #28a745;
        background-color: #28a745;
        color: white;
        cursor: pointer;
        border-radius: 4px;
    }
    .code-panel {
      padding: 15px;
      border-top: 1px solid #ccc;
      border-bottom: 1px solid #ccc;
    }
    .code-container {
      position: relative;
      border: 1px solid #ccc;
      border-radius: 4px;
      background-color: #f8f9fa;
    }
    .code-container pre {
      margin: 0;
      padding: 15px;
      white-space: pre-wrap;
      word-wrap: break-word;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.4;
      overflow-x: auto;
    }
    .code-container button {
      position: absolute;
      top: 10px;
      right: 10px;
      padding: 5px 10px;
      border: 1px solid #007bff;
      background-color: #007bff;
      color: white;
      cursor: pointer;
      border-radius: 4px;
      font-size: 12px;
    }
    .code-container button:hover {
      background-color: #0056b3;
      border-color: #0056b3;
    }
  </style>
</head>
<body>
  <div class="main-container">
    <div class="request-panel">
      <div class="url-bar">
        <select id="method">
          <option>GET</option>
          <option>POST</option>
          <option>PUT</option>
          <option>DELETE</option>
          <option>PATCH</option>
        </select>
        <input type="text" id="url" placeholder="请输入请求 URL">
        <button id="send" disabled>发送</button>
        <button id="generateCode">生成代码</button>
      </div>
      <div class="tabs">
        <button class="tab-button active" data-tab="params">Params</button>
        <button class="tab-button" data-tab="headers">Headers</button>
        <button class="tab-button" data-tab="body">Body</button>
      </div>
      <div id="params" class="tab-content key-value-editor">
        <div id="params-container"></div>
        <button id="add-param-btn" class="add-btn">+ 添加参数</button>
      </div>
      <div id="headers" class="tab-content key-value-editor" style="display: none;">
        <div id="headers-container"></div>
        <button id="add-header-btn" class="add-btn">+ 添加请求头</button>
      </div>
      <div id="body" class="tab-content body-editor" style="display: none;">
        <textarea placeholder="请求体内容，例如：{\"key\": \"value\"}"></textarea>
      </div>
    </div>

    <div class="code-panel" id="codePanel" style="display: none;">
      <h3>生成的代码</h3>
      <div class="code-container">
        <pre id="generatedCode"></pre>
        <button id="copyCode">复制</button>
      </div>
    </div>

    <div class="response-panel">
      <h3>响应</h3>
      <pre id="response-content">响应内容将显示在这里...</pre>
    </div>
  </div>

  <script src="apiTester.js"></script>
</body>
</html>